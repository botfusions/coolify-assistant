<!DOCTYPE html>
<html>
<head>
  <title>🤖 AI Asistanı</title>
  <style>
    body { font-family: Arial; background: #f0f0f0; }
    #chat { max-width: 600px; height: 300px; margin: 10px auto; border: 1px solid #ccc; overflow-y: scroll; padding: 10px; background: white; }
    input { width: calc(100% - 110px); padding: 8px; }
    button { padding: 8px 15px; }
  </style>
</head>
<body>
  <div id="chat"></div>
  <input id="msg" placeholder="Mesaj...">
  <button onclick="gonder()">Gönder</button>

  <script>
    function gonder() {
      const msg = document.getElementById('msg').value;
      if (!msg) return;

      fetch('/ask', {  # ← BURAYI DEĞİŞTİR!
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify({message: msg})
      })
      .then(res => res.json())
      .then(data => {
        const chat = document.getElementById('chat');
        chat.innerHTML += `<p><strong>Sen:</strong> ${msg}</p>`;
        chat.innerHTML += `<p><strong>Asistan:</strong> ${data.reply}</p>`;
        document.getElementById('msg').value = '';
      });
    }
  </script>
</body>
</html>
